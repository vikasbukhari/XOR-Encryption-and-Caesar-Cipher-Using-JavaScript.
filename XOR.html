<!DOCTYPE html>
<html>
<head>
	<title>XOR Operation Using JavaScript</title>
	<link rel="stylesheet" type="text/css" href="css/bootstrap.css">
</head>
<body>



	<div class=" container mt-2 ">
			
			<a class="btn btn-primary" href="index.html">Back to Index</a>



	</div>

	<div class="container mt-5">
		
		<div class="row">
				
	<div class="col-md-5 card shadow p-3">
					
	<h4>Encryption</h4>

	<form method="post" onSubmit="return encryption()">
		
  <div class="form-group">	
		  	
    <label for="exampleFormControlTextarea1">Enter Data to Encrypt</label>
    <p>Key will be automatically generated by the Cipher</p>

    <textarea name="string" class="form-control" id="plainstring" rows="3" required=""></textarea>

  	</div>

  <button type="submit" name="encrypt" class="btn btn-primary">Encrypt String</button>

	</form>

  <hr/>



	<div id="encryptionjumbotron" class="jumbotron">
  	<h5>Encrypted String:</h5><p id="displayencrypted">asfa afs</p>
  	<h5>Encryption Key:</h5><p id="displayenckey">aasf asf</p>
	</div>

				</div>

<div class="col-md-2"></div>

	<div class="col-md-5 card shadow p-3">
	<h4>Decryption</h4>	


	<form action="encrypt_submit" method="post" onsubmit = "return decryption()" accept-charset="utf-8">


 <div class="form-group">
    <label for="inputPassword">Decryption Key</label>
    
      <input type="text" class="form-control" id="key" placeholder="key" required="">
   
  		  </div>
		  
  <div class="form-group">
    <label for="exampleFormControlTextarea1">Enter Data to Encrypt</label>
    <textarea class="form-control" id="todecrypt" rows="3" required=""></textarea>
  </div>

  <button type="submit" name="" class="btn btn-primary">Decrypt String</button>


</form>
		
  <hr/>
	<div id="decryptionjumb" class="jumbotron">
	  <h5>Decrypted String:</h5>
	  <p id="displaydecryptedstring">asfa afs</p>

	</div>
				</div>


		</div>


	</div>

<script>
	
	
	var enc_jumb = document.getElementById("encryptionjumbotron");

	var dec_jumb = document.getElementById("decryptionjumb");

	enc_jumb.style.visibility = 'hidden';

	dec_jumb.style.visibility = 'hidden';


	function encryption()
	{

		var plainstring = document.getElementById("plainstring").value;

		var displayencrypted = document.getElementById("displayencrypted");

		var displayenckey = document.getElementById("displayenckey");

		enc_jumb.style.visibility = 'visible';

		var enckey = Math.floor(Math.random() * 100000) + 1;

		var cipherd = "";

		for(i=0; i < plainstring.length; i++)
		{
			
			cipherd += String.fromCharCode(enckey ^ plainstring.charCodeAt(i));
		}

		displayencrypted.innerText = cipherd;

		displayenckey.innerText = enckey;

		return false;
	}


	function decryption()
	{
		dec_jumb.style.visibility = 'visible';

		var key = document.getElementById("key").value;

		var to_decrypt = document.getElementById("todecrypt").value;

		var decrypted = "";

		for(i=0;i<to_decrypt.length;i++)
		{
			decrypted += String.fromCharCode(key ^ to_decrypt.charCodeAt(i));
		}

		var displaydecryptedstring = document.getElementById("displaydecryptedstring").innerText = decrypted;

		return false;

	}


</script>



</body>
</html>