<!DOCTYPE html>
<html>
<head>
	<title>Ceaser Cipher</title>

	<link rel="stylesheet" type="text/css" href="css/bootstrap.css">

	<script>
		
	</script>

</head>
<body>





<div class="container">
 


	<div class="mt-2 ">
			
			<a class="btn btn-primary" href="index.html">Back to Index</a>



	</div>

 	<div class="row mt-4">
 		<div class="col-md-5 card shadow p-3">


 			
 			<h4>Cipher Using Ceaser Cipher</h4>

 			<hr/>

 			<form onsubmit="return cipher()">
 				
 				<label>Enter Shift Value</label>


 				<input type="text" class="form-control" id="CipheredKey">

 				<label>Enter Text</label>
 				<textarea class="form-control" id="TextValue"></textarea>

 				<button type="submit" class="mt-3 btn btn-success">Generate Ciphered Text</button>




 			</form>

 				<div id="cipheredjumb" class="jumbotron mt-3">

			  	<h5>Shift Key:</h5><p id="shiftkey"></p>
			  	<h5>Encrypted Information:</h5><p id="encinfo"></p>

				</div>


 		</div>
 		<div class="col-md-1"></div>
 		<div class="col-md-5 card shadow p-3">
 			

 		<h4>Di-Cipher Using Ceaser Cipher</h4>

 			<hr/>

 			<form onsubmit="return diCipher()">
 				
 				<label>Enter Shift Value</label>
 				<input type="text" class="form-control" id="diCipherShift">

 				<label>Enter Ciphered Text</label>
 				<textarea class="form-control" id="diCipherText"></textarea>

 				<button type="submit" class="mt-3 btn btn-success">Generate Text</button>

 				<div id="decryjumb" class="jumbotron mt-3">

			  	
			  	<h5>Decrypted Information:</h5><p id="decinfo"></p>

				</div>

 			</form>
 		</div>
 	</div>



</div>


<script>

var cipheredjumb = document.getElementById("cipheredjumb");

cipheredjumb.style.visibility = 'hidden';


var decryjumb = document.getElementById("decryjumb");

decryjumb.style.visibility = 'hidden';


function cipher()
{
	

	var CipheredKey = Number(document.getElementById("CipheredKey").value);

	var TextValue = document.getElementById("TextValue").value;

	if(TextValue == "" || CipheredKey == "")
	{
		alert("Either Shift Key or Text Is Missing, Ciphering Cannot Be Done");

	}else {
	
	cipheredjumb.style.visibility = 'visible';

	var EncryptedText = encrypt(TextValue, CipheredKey);

	document.getElementById("shiftkey").innerText = CipheredKey;

	document.getElementById("encinfo").innerText = EncryptedText;
	}



	return false;
}

function diCipher()
{



	var diCipherShift = Number(document.getElementById("diCipherShift").value);
	
	var diCipherText = document.getElementById("diCipherText").value;


	if(diCipherShift == "" || diCipherText == "")
	{
		alert("Decryption Cannot Be Done, Field Values Missing");

	}else {
		
	var decryptedText = decrypt(diCipherText, diCipherShift);


	decryjumb.style.visibility = 'visible';


	document.getElementById("decinfo").innerText  = decryptedText;

	}





	return false;
}


var shift;

function encrypt(text, shift) {


var result = "";
 
         //loop through each caharacter in the text
        for (var i = 0; i < text.length; i++) {
              
             //get the character code of each letter
            var c = text.charCodeAt(i);
 
            // handle uppercase letters
            if(c >= 65 && c <=  90) {
               result += String.fromCharCode((c - 65 + shift) % 26 + 65); 
 
            // handle lowercase letters
            }else if(c >= 97 && c <= 122){
                result += String.fromCharCode((c - 97 + shift) % 26 + 97);
 
            // its not a letter, let it through
            }else {
                result += text.charAt(i);
            }
        }
    
    return result;
}
 
function decrypt(text,shift){

    var result = "";
    shift = (26 - shift) % 26;
    result = encrypt(text,shift);
    return result;
}   	



</script>

</body>
</html>